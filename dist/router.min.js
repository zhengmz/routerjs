!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define("Router",[],e):"object"==typeof exports?exports.Router=e():t.Router=e()}(this,function(){"use strict";function t(){this.version="1.0.0"}var o=[],n=null,r=window.location.pathname,i=function(t){return t.toString().replace(/\/$/,"").replace(/^\//,"")};return new((t.prototype={config:function(t){return n=t&&t.mode&&"history"==t.mode&&history.pushState?"history":"hash",r=t&&t.root?t.root:r,"history"===n&&(r="/"+i(r)+"/"),this},getFragment:function(){var t="";if("history"===n)t="/"+(t=(t=i(decodeURI(location.pathname+location.search))).replace(/\?(.*)$/,""))+"/",t="/"!=r?t.replace(r,""):t;else{var e=window.location.href.match(/#(.*)$/);t=e?e[1]:""}return i(t)},add:function(t,e){return"function"==typeof t&&(e=t,t=""),o.push({re:t,handler:e}),this},remove:function(t){for(var e,n=0;e=o[n],n<o.length;n++)if(e.handler===t||e.re.toString()===t.toString())return o.splice(n,1),this;return this},flush:function(){return o=[],n=null,r=window.location.pathname,this},check:function(t){for(var e=t||this.getFragment(),n=0;n<o.length;n++){var r=e.match(o[n].re);if(r)return r.shift(),o[n].handler.apply({},r),this}return this},listen:function(){var t=this,e=t.getFragment();return clearInterval(this.interval),this.interval=setInterval(function(){e!==t.getFragment()&&(e=t.getFragment(),t.check(e))},50),this},navigate:function(t){return t=t||"","history"===n?history.pushState(null,null,r+i(t)):window.location.href=r+"#"+t,this}}).constructor=t)});